<!doctype html>
<html>

<head>
  <title>ArNS ID Demo</title>
  <script type="module">
    import { findAddress } from '../bundle.min.js'


    const form = document.getElementById('find')
    form.addEventListener('submit', (e) => {
      e.preventDefault()
      const criteria = document.getElementById('subdomain').value
      console.log('criteria', criteria)
      findAddress(criteria).then(addr => {
        // gql Account-0.2 and Account-0.3
        // and owner = address

        document.getElementById('wallet').innerHTML = `
        <h3>Wallet Address for ${criteria} is:</h3>
        <p>${addr}</p>
        `
        document.getElementById('subdomain').value = ''
      }).catch(error => {
        document.getElementById('wallet').innerHTML = `
        <h3>Wallet Address for ${criteria} is:</h3>
        <p>not found</p>
      })

    })

  </script>

</head>

<body>
  <h1>ArNS ID Demo</h1>
  <p>Enter a sub-domain and find a wallet address</p>
  <form id="find">
    <div>
      <label for="subdomain">SubDomain</label>
      <input type="text" id="subdomain" />
    </div>
    <div>
      <button>Submit</button>
    </div>
  </form>
  <div id="wallet"></div>
  <hr />
  <div>Developer Documentation <a href="../index.html">here</a></div>
</body>

</html>